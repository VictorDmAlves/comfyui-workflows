{"id":"0aec6d12-4702-4336-928e-1c28266940f1","revision":0,"last_node_id":64,"last_link_id":105,"nodes":[{"id":35,"type":"DownloadAndLoadFlorence2Model","pos":[-500,-770],"size":[300,170],"flags":{"pinned":true},"order":0,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"convert_to_safetensors","name":"convert_to_safetensors","shape":7,"type":"BOOLEAN","widget":{"name":"convert_to_safetensors"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[47]}],"properties":{"cnr_id":"comfyui-florence2","ver":"de485b65b3e1b9b887ab494afa236dff4bef9a7e","Node name for S&R":"DownloadAndLoadFlorence2Model"},"widgets_values":["microsoft/Florence-2-base","fp16","eager",false]},{"id":45,"type":"Reroute","pos":[-170,-190],"size":[75,26],"flags":{"pinned":true},"order":10,"mode":4,"inputs":[{"name":"","type":"*","link":55}],"outputs":[{"name":"","type":"MASK","links":[59]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":49,"type":"Reroute","pos":[65,-190],"size":[75,26],"flags":{"pinned":true},"order":18,"mode":4,"inputs":[{"name":"","type":"*","link":59}],"outputs":[{"name":"","type":"MASK","links":[60]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":46,"type":"GetNode","pos":[-170,-270],"size":[310,70],"flags":{"pinned":true},"order":1,"mode":4,"inputs":[],"outputs":[{"name":"MASK","type":"MASK","links":[56]}],"title":"Get_Florence2","properties":{},"widgets_values":["Florence2"],"color":"#233","bgcolor":"#355"},{"id":6,"type":"Reroute","pos":[170,210],"size":[75,26],"flags":{"pinned":true},"order":7,"mode":4,"inputs":[{"name":"","type":"*","link":9}],"outputs":[{"name":"","type":"VAE","links":[97]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":1,"type":"CheckpointLoaderSimple","pos":[-170,-100],"size":[310,100],"flags":{"pinned":true},"order":2,"mode":4,"inputs":[{"localized_name":"ckpt_name","name":"ckpt_name","type":"COMBO","widget":{"name":"ckpt_name"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[72]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[73]},{"localized_name":"VAE","name":"VAE","type":"VAE","links":[9]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["SDXL\\cyberrealisticXL_v80-inpainting.safetensors"]},{"id":3,"type":"CLIPTextEncode","pos":[430,-270],"size":[270,210],"flags":{"pinned":true},"order":12,"mode":4,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":74},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[3]}],"title":"Positive","properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#232","bgcolor":"#353"},{"id":2,"type":"InpaintModelConditioning","pos":[730,-270],"size":[270,210],"flags":{"pinned":true},"order":29,"mode":4,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":3},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":4},{"localized_name":"vae","name":"vae","type":"VAE","link":79},{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":99},{"localized_name":"mask","name":"mask","type":"MASK","link":105},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[33]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[34]},{"localized_name":"latent","name":"latent","type":"LATENT","links":[35]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"InpaintModelConditioning"},"widgets_values":[true]},{"id":24,"type":"KSampler","pos":[1030,-270],"size":[270,470],"flags":{"pinned":true},"order":30,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":32},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":33},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":34},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":35},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[36]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"KSampler"},"widgets_values":[1,"randomize",30,3,"dpmpp_3m_sde_gpu","karras",1]},{"id":27,"type":"VAEDecode","pos":[1330,-270],"size":[170,70],"flags":{"pinned":true},"order":31,"mode":4,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":36},{"localized_name":"vae","name":"vae","type":"VAE","link":85}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[42]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"VAEDecode"},"widgets_values":[]},{"id":31,"type":"SaveImage","pos":[1530,-270],"size":[570,470],"flags":{"pinned":true},"order":32,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":42},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.30"},"widgets_values":["Images/SD-SDXL"]},{"id":30,"type":"Reroute","pos":[1225,210],"size":[75,26],"flags":{"pinned":true},"order":20,"mode":4,"inputs":[{"name":"","type":"*","link":95}],"outputs":[{"name":"","type":"VAE","links":[85]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":18,"type":"Reroute","pos":[-170,230],"size":[75,26],"flags":{"pinned":true},"order":9,"mode":4,"inputs":[{"name":"","type":"*","link":90}],"outputs":[{"name":"","type":"IMAGE","links":[98]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":54,"type":"Lora Loader Stack (rgthree)","pos":[170,-100],"size":[230,300],"flags":{"pinned":true},"order":6,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":72},{"localized_name":"clip","name":"clip","type":"CLIP","link":73},{"localized_name":"lora_01","name":"lora_01","type":"COMBO","widget":{"name":"lora_01"},"link":null},{"localized_name":"strength_01","name":"strength_01","type":"FLOAT","widget":{"name":"strength_01"},"link":null},{"localized_name":"lora_02","name":"lora_02","type":"COMBO","widget":{"name":"lora_02"},"link":null},{"localized_name":"strength_02","name":"strength_02","type":"FLOAT","widget":{"name":"strength_02"},"link":null},{"localized_name":"lora_03","name":"lora_03","type":"COMBO","widget":{"name":"lora_03"},"link":null},{"localized_name":"strength_03","name":"strength_03","type":"FLOAT","widget":{"name":"strength_03"},"link":null},{"localized_name":"lora_04","name":"lora_04","type":"COMBO","widget":{"name":"lora_04"},"link":null},{"localized_name":"strength_04","name":"strength_04","type":"FLOAT","widget":{"name":"strength_04"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[100]},{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[74,75]}],"properties":{"cnr_id":"rgthree-comfy","ver":"42e73c3c48e8268129a6a1ea6d9766913bfc5435","Node name for S&R":"Lora Loader Stack (rgthree)"},"widgets_values":["None",1,"None",1,"None",1,"None",1]},{"id":47,"type":"Any Switch (rgthree)","pos":[170,-270],"size":[230,106],"flags":{"pinned":true},"order":22,"mode":4,"inputs":[{"dir":3,"name":"any_01","type":"MASK","link":56},{"dir":3,"name":"any_02","type":"MASK","link":60},{"dir":3,"name":"any_03","type":"MASK","link":null},{"dir":3,"name":"any_04","type":"MASK","link":null},{"dir":3,"name":"any_05","type":"MASK","link":null}],"outputs":[{"dir":4,"label":"MASK","name":"*","shape":3,"type":"MASK","links":[103]}],"properties":{"cnr_id":"rgthree-comfy","ver":"1b1a7359bfc0293c3bd472837bfeddd85a11bda3"},"widgets_values":[]},{"id":26,"type":"DifferentialDiffusion","pos":[730,0],"size":[270,200],"flags":{"pinned":true},"order":23,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":102},{"localized_name":"strength","name":"strength","shape":7,"type":"FLOAT","widget":{"name":"strength"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[32]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"DifferentialDiffusion"},"widgets_values":[1]},{"id":40,"type":"MaskPreview+","pos":[730,-770],"size":[270,270],"flags":{"pinned":true},"order":26,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":51}],"outputs":[],"properties":{"cnr_id":"comfyui_essentials","ver":"9d9f4bedfc9f0321c19faf71855e228c93bd0dc9","Node name for S&R":"MaskPreview+"},"widgets_values":[]},{"id":41,"type":"GrowMaskWithBlur","pos":[430,-770],"size":[270,270],"flags":{"pinned":true},"order":24,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":68},{"localized_name":"expand","name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"localized_name":"incremental_expandrate","name":"incremental_expandrate","type":"FLOAT","widget":{"name":"incremental_expandrate"},"link":null},{"localized_name":"tapered_corners","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null},{"localized_name":"flip_input","name":"flip_input","type":"BOOLEAN","widget":{"name":"flip_input"},"link":null},{"localized_name":"blur_radius","name":"blur_radius","type":"FLOAT","widget":{"name":"blur_radius"},"link":null},{"localized_name":"lerp_alpha","name":"lerp_alpha","type":"FLOAT","widget":{"name":"lerp_alpha"},"link":null},{"localized_name":"decay_factor","name":"decay_factor","type":"FLOAT","widget":{"name":"decay_factor"},"link":null},{"localized_name":"fill_holes","name":"fill_holes","shape":7,"type":"BOOLEAN","widget":{"name":"fill_holes"},"link":null}],"outputs":[{"localized_name":"mask","name":"mask","type":"MASK","links":[51,54]},{"localized_name":"mask_inverted","name":"mask_inverted","type":"MASK","links":null}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"07b804cb3ff3b3eb8d2c5fdadd62d0822bebe4e8","Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[25,0,true,false,5,1,1,false]},{"id":37,"type":"PreviewImage","pos":[170,-770],"size":[230,270],"flags":{"pinned":true},"order":15,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":44}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.35","Node name for S&R":"PreviewImage"},"widgets_values":[]},{"id":52,"type":"Reroute","pos":[170,-490],"size":[75,26],"flags":{"pinned":true},"order":16,"mode":0,"inputs":[{"name":"","type":"*","link":66}],"outputs":[{"name":"","type":"MASK","links":[67]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":53,"type":"Reroute","pos":[325,-490],"size":[75,26],"flags":{"pinned":true},"order":21,"mode":0,"inputs":[{"name":"","type":"*","link":67}],"outputs":[{"name":"","type":"MASK","links":[68]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":44,"type":"SetNode","pos":[730,-450],"size":[270,80],"flags":{"pinned":true},"order":27,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":54}],"outputs":[{"name":"*","type":"*","links":null}],"title":"Set_Florence2","properties":{"previousName":"Florence2"},"widgets_values":["Florence2"],"color":"#233","bgcolor":"#355"},{"id":36,"type":"Florence2Run","pos":[-170,-770],"size":[310,400],"flags":{"pinned":true},"order":8,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":52},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":47},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[44]},{"localized_name":"mask","name":"mask","type":"MASK","links":[66]},{"localized_name":"caption","name":"caption","type":"STRING","links":null},{"localized_name":"data","name":"data","type":"JSON","links":null}],"properties":{"cnr_id":"comfyui-florence2","ver":"de485b65b3e1b9b887ab494afa236dff4bef9a7e","Node name for S&R":"Florence2Run"},"widgets_values":["clothes","referring_expression_segmentation",true,false,1024,3,true,"",1,"increment"]},{"id":60,"type":"Reroute","pos":[430,170],"size":[75,26],"flags":{"pinned":true},"order":11,"mode":4,"inputs":[{"name":"","type":"*","link":100}],"outputs":[{"name":"","type":"MODEL","links":[101]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":62,"type":"Reroute","pos":[430,190],"size":[75,26],"flags":{"pinned":true},"order":25,"mode":4,"inputs":[{"name":"","type":"*","link":103}],"outputs":[{"name":"","type":"MASK","links":[104]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":61,"type":"Reroute","pos":[625,170],"size":[75,26],"flags":{"pinned":true},"order":19,"mode":4,"inputs":[{"name":"","type":"*","link":101}],"outputs":[{"name":"","type":"MODEL","links":[102]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":63,"type":"Reroute","pos":[625,190],"size":[75,26],"flags":{"pinned":true},"order":28,"mode":4,"inputs":[{"name":"","type":"*","link":104}],"outputs":[{"name":"","type":"MASK","links":[105]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":55,"type":"Reroute","pos":[625,210],"size":[75,26],"flags":{"pinned":true},"order":14,"mode":4,"inputs":[{"name":"","type":"*","link":97}],"outputs":[{"name":"","type":"VAE","links":[79,95]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":59,"type":"Reroute","pos":[625,230],"size":[75,26],"flags":{"pinned":true},"order":17,"mode":4,"inputs":[{"name":"","type":"*","link":98}],"outputs":[{"name":"","type":"IMAGE","links":[99]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":4,"type":"CLIPTextEncode","pos":[430,0],"size":[270,160],"flags":{"pinned":true},"order":13,"mode":4,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":75},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[4]}],"title":"Negative","properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"CLIPTextEncode"},"widgets_values":["watermark, unrealistic, low-res, low quality, blurry"],"color":"#322","bgcolor":"#533"},{"id":8,"type":"LoadImage","pos":[-500,-320],"size":[300,390],"flags":{"pinned":true},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[52,90]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[55]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.30","Node name for S&R":"LoadImage"},"widgets_values":["example.png","image"]},{"id":43,"type":"Fast Groups Bypasser (rgthree)","pos":[-500,130],"size":[300,140],"flags":{"pinned":true},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"showAllGraphs":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"},"color":"#223","bgcolor":"#335"},{"id":64,"type":"Note","pos":[-800,-320],"size":[270,390],"flags":{"pinned":true},"order":5,"mode":0,"inputs":[],"outputs":[],"title":"Models in this Workflow","properties":{},"widgets_values":["cyberrealisticXL_v80-inpainting:\nhttps://civitai.com/models/312530?modelVersionId=2462401"],"color":"#2a363b","bgcolor":"#3f5159"}],"links":[[3,3,0,2,0,"CONDITIONING"],[4,4,0,2,1,"CONDITIONING"],[9,1,2,6,0,"*"],[32,26,0,24,0,"MODEL"],[33,2,0,24,1,"CONDITIONING"],[34,2,1,24,2,"CONDITIONING"],[35,2,2,24,3,"LATENT"],[36,24,0,27,0,"LATENT"],[42,27,0,31,0,"IMAGE"],[44,36,0,37,0,"IMAGE"],[47,35,0,36,1,"FL2MODEL"],[51,41,0,40,0,"MASK"],[52,8,0,36,0,"IMAGE"],[54,41,0,44,0,"*"],[55,8,1,45,0,"*"],[56,46,0,47,0,"*"],[59,45,0,49,0,"*"],[60,49,0,47,1,"MASK"],[66,36,1,52,0,"*"],[67,52,0,53,0,"*"],[68,53,0,41,0,"MASK"],[72,1,0,54,0,"MODEL"],[73,1,1,54,1,"CLIP"],[74,54,1,3,0,"CLIP"],[75,54,1,4,0,"CLIP"],[79,55,0,2,2,"VAE"],[85,30,0,27,1,"VAE"],[90,8,0,18,0,"IMAGE"],[95,55,0,30,0,"VAE"],[97,6,0,55,0,"VAE"],[98,18,0,59,0,"IMAGE"],[99,59,0,2,3,"IMAGE"],[100,54,0,60,0,"MODEL"],[101,60,0,61,0,"MODEL"],[102,61,0,26,0,"MODEL"],[103,47,0,62,0,"MASK"],[104,62,0,63,0,"MASK"],[105,63,0,2,4,"MASK"]],"groups":[{"id":2,"title":"Inpaint","bounding":[-180,-343.6,2290,609.6],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Florence2","bounding":[-510,-843.6,1520,483.6],"color":"#8A8","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.47918088737201364,"offset":[1298.3333333333335,1240.5108262108263]},"frontendVersion":"1.17.11"},"version":0.4}