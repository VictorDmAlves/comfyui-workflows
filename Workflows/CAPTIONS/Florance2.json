{"id":"9dcf8e21-80bf-42eb-b1d9-e171967dbc2a","revision":0,"last_node_id":42,"last_link_id":76,"nodes":[{"id":9,"type":"Save Text File","pos":[630,930],"size":[370,270],"flags":{"pinned":true},"order":16,"mode":4,"inputs":[{"localized_name":"text","name":"text","type":"STRING","link":62},{"localized_name":"path","name":"path","type":"STRING","widget":{"name":"path"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":38},{"localized_name":"filename_delimiter","name":"filename_delimiter","type":"STRING","widget":{"name":"filename_delimiter"},"link":null},{"localized_name":"filename_number_padding","name":"filename_number_padding","type":"INT","widget":{"name":"filename_number_padding"},"link":null},{"localized_name":"file_extension","name":"file_extension","shape":7,"type":"STRING","widget":{"name":"file_extension"},"link":null},{"localized_name":"encoding","name":"encoding","shape":7,"type":"STRING","widget":{"name":"encoding"},"link":null},{"localized_name":"filename_suffix","name":"filename_suffix","shape":7,"type":"STRING","widget":{"name":"filename_suffix"},"link":null}],"outputs":[],"properties":{"cnr_id":"was-ns","ver":"3.0.0","Node name for S&R":"Save Text File"},"widgets_values":["PATH TO OUTPUT","T@m@r@","_",4,".txt","utf-8",""]},{"id":1,"type":"LoadImageListFromDir //Inspire","pos":[0,930],"size":[300,270],"flags":{"pinned":true},"order":0,"mode":4,"inputs":[{"localized_name":"directory","name":"directory","type":"STRING","widget":{"name":"directory"},"link":null},{"localized_name":"image_load_cap","name":"image_load_cap","shape":7,"type":"INT","widget":{"name":"image_load_cap"},"link":null},{"localized_name":"start_index","name":"start_index","shape":7,"type":"INT","widget":{"name":"start_index"},"link":null},{"localized_name":"load_always","name":"load_always","shape":7,"type":"BOOLEAN","widget":{"name":"load_always"},"link":null},{"localized_name":"sort_method","name":"sort_method","shape":7,"type":"COMBO","widget":{"name":"sort_method"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","shape":6,"type":"IMAGE","slot_index":0,"links":[48,58]},{"localized_name":"MASK","name":"MASK","shape":6,"type":"MASK","links":null},{"localized_name":"FILE PATH","name":"FILE PATH","shape":6,"type":"STRING","slot_index":2,"links":[]}],"properties":{"cnr_id":"comfyui-inspire-pack","ver":"1.20.0","Node name for S&R":"LoadImageListFromDir //Inspire"},"widgets_values":["PATH TO IMAGES",0,0,false,"None"]},{"id":11,"type":"Image Save","pos":[1030,930],"size":[370,414],"flags":{"pinned":true},"order":17,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":76},{"localized_name":"output_path","name":"output_path","type":"STRING","widget":{"name":"output_path"},"link":null},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":72},{"localized_name":"filename_delimiter","name":"filename_delimiter","type":"STRING","widget":{"name":"filename_delimiter"},"link":null},{"localized_name":"filename_number_padding","name":"filename_number_padding","type":"INT","widget":{"name":"filename_number_padding"},"link":null},{"localized_name":"filename_number_start","name":"filename_number_start","type":"COMBO","widget":{"name":"filename_number_start"},"link":null},{"localized_name":"extension","name":"extension","type":"COMBO","widget":{"name":"extension"},"link":null},{"localized_name":"dpi","name":"dpi","type":"INT","widget":{"name":"dpi"},"link":null},{"localized_name":"quality","name":"quality","type":"INT","widget":{"name":"quality"},"link":null},{"localized_name":"optimize_image","name":"optimize_image","type":"COMBO","widget":{"name":"optimize_image"},"link":null},{"localized_name":"lossless_webp","name":"lossless_webp","type":"COMBO","widget":{"name":"lossless_webp"},"link":null},{"localized_name":"overwrite_mode","name":"overwrite_mode","type":"COMBO","widget":{"name":"overwrite_mode"},"link":null},{"localized_name":"show_history","name":"show_history","type":"COMBO","widget":{"name":"show_history"},"link":null},{"localized_name":"show_history_by_prefix","name":"show_history_by_prefix","type":"COMBO","widget":{"name":"show_history_by_prefix"},"link":null},{"localized_name":"embed_workflow","name":"embed_workflow","type":"COMBO","widget":{"name":"embed_workflow"},"link":null},{"localized_name":"show_previews","name":"show_previews","type":"COMBO","widget":{"name":"show_previews"},"link":null}],"outputs":[{"localized_name":"images","name":"images","type":"IMAGE","slot_index":0,"links":[]},{"localized_name":"files","name":"files","type":"STRING","links":null}],"properties":{"cnr_id":"was-ns","ver":"3.0.0","Node name for S&R":"Image Save"},"widgets_values":["PATH TO OUTPUT","ComfyUI","_",4,"false","jpeg",300,100,"true","false","false","false","true","true","false"]},{"id":38,"type":"Reroute","pos":[925,1210],"size":[75,26],"flags":{"pinned":true},"order":14,"mode":4,"inputs":[{"name":"","type":"*","widget":{"name":"value"},"link":71}],"outputs":[{"name":"","type":"STRING","links":[72]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":37,"type":"Reroute","pos":[630,1210],"size":[75,26],"flags":{"pinned":true},"order":11,"mode":4,"inputs":[{"name":"","type":"*","widget":{"name":"value"},"link":70}],"outputs":[{"name":"","type":"STRING","links":[71]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":39,"type":"Fast Groups Bypasser (rgthree)","pos":[0,630],"size":[300,170],"flags":{"pinned":true},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"showAllGraphs":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"},"color":"#223","bgcolor":"#335"},{"id":32,"type":"Display Any (rgthree)","pos":[1030,430],"size":[370,370],"flags":{"collapsed":false,"pinned":true},"order":15,"mode":0,"inputs":[{"dir":3,"localized_name":"source","name":"source","type":"*","link":56}],"outputs":[],"properties":{"cnr_id":"rgthree-comfy","ver":"c5ffa43de4ddb17244626a65a30700a05dd6b67d","Node name for S&R":"Display Any (rgthree)"},"widgets_values":[""]},{"id":40,"type":"Reroute","pos":[630,810],"size":[75,26],"flags":{"pinned":true},"order":10,"mode":0,"inputs":[{"name":"","type":"*","link":74}],"outputs":[{"name":"","type":"IMAGE","links":[75]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":41,"type":"Reroute","pos":[925,810],"size":[75,26],"flags":{"pinned":true},"order":13,"mode":0,"inputs":[{"name":"","type":"*","link":75}],"outputs":[{"name":"","type":"IMAGE","links":[76]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":3,"type":"DownloadAndLoadFlorence2Model","pos":[0,430],"size":[300,140],"flags":{"pinned":true},"order":2,"mode":0,"inputs":[{"localized_name":"lora","name":"lora","shape":7,"type":"PEFTLORA","link":null},{"localized_name":"model","name":"model","type":"COMBO","widget":{"name":"model"},"link":null},{"localized_name":"precision","name":"precision","type":"COMBO","widget":{"name":"precision"},"link":null},{"localized_name":"attention","name":"attention","type":"COMBO","widget":{"name":"attention"},"link":null},{"localized_name":"convert_to_safetensors","name":"convert_to_safetensors","shape":7,"type":"BOOLEAN","widget":{"name":"convert_to_safetensors"},"link":null}],"outputs":[{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","links":[64]}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.5","Node name for S&R":"DownloadAndLoadFlorence2Model"},"widgets_values":["microsoft/Florence-2-large","fp16","eager",true]},{"id":33,"type":"Any Switch (rgthree)","pos":[330,430],"size":[270,140],"flags":{"pinned":true},"order":7,"mode":0,"inputs":[{"dir":3,"name":"any_01","type":"IMAGE","link":57},{"dir":3,"name":"any_02","type":"IMAGE","link":58},{"dir":3,"name":"any_03","type":"IMAGE","link":null},{"dir":3,"name":"any_04","type":"IMAGE","link":null},{"dir":3,"name":"any_05","type":"IMAGE","link":null}],"outputs":[{"dir":4,"label":"IMAGE","name":"*","shape":3,"type":"IMAGE","links":[59,74]}],"properties":{"cnr_id":"rgthree-comfy","ver":"ce6fc334c923a465254a62073fb1677c1cc6a193"},"widgets_values":[]},{"id":35,"type":"Reroute","pos":[525,810],"size":[75,26],"flags":{"pinned":true},"order":9,"mode":0,"inputs":[{"name":"","type":"*","link":65}],"outputs":[{"name":"","type":"FL2MODEL","links":[66]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":34,"type":"Reroute","pos":[330,810],"size":[75,26],"flags":{"pinned":true},"order":6,"mode":0,"inputs":[{"name":"","type":"*","link":64}],"outputs":[{"name":"","type":"FL2MODEL","links":[65]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":2,"type":"Florence2Run","pos":[630,430],"size":[370,370],"flags":{"pinned":true},"order":12,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":59},{"localized_name":"florence2_model","name":"florence2_model","type":"FL2MODEL","link":66},{"localized_name":"text_input","name":"text_input","type":"STRING","widget":{"name":"text_input"},"link":null},{"localized_name":"task","name":"task","type":"COMBO","widget":{"name":"task"},"link":null},{"localized_name":"fill_mask","name":"fill_mask","type":"BOOLEAN","widget":{"name":"fill_mask"},"link":null},{"localized_name":"keep_model_loaded","name":"keep_model_loaded","shape":7,"type":"BOOLEAN","widget":{"name":"keep_model_loaded"},"link":null},{"localized_name":"max_new_tokens","name":"max_new_tokens","shape":7,"type":"INT","widget":{"name":"max_new_tokens"},"link":null},{"localized_name":"num_beams","name":"num_beams","shape":7,"type":"INT","widget":{"name":"num_beams"},"link":null},{"localized_name":"do_sample","name":"do_sample","shape":7,"type":"BOOLEAN","widget":{"name":"do_sample"},"link":null},{"localized_name":"output_mask_select","name":"output_mask_select","shape":7,"type":"STRING","widget":{"name":"output_mask_select"},"link":null},{"localized_name":"seed","name":"seed","shape":7,"type":"INT","widget":{"name":"seed"},"link":null}],"outputs":[{"localized_name":"image","name":"image","type":"IMAGE","links":[]},{"localized_name":"mask","name":"mask","type":"MASK","links":null},{"localized_name":"caption","name":"caption","type":"STRING","slot_index":2,"links":[56,62]},{"localized_name":"data","name":"data","type":"JSON","slot_index":3,"links":[]}],"properties":{"cnr_id":"comfyui-florence2","ver":"1.0.5","Node name for S&R":"Florence2Run"},"widgets_values":["","more_detailed_caption",true,true,1024,4,true,"",1,"randomize"]},{"id":23,"type":"LoadImage","pos":[0,-10],"size":[300,370],"flags":{"pinned":true},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[57]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":null}],"properties":{"cnr_id":"comfy-core","ver":"0.3.43","Node name for S&R":"LoadImage"},"widgets_values":["example.png","image"]},{"id":4,"type":"ListCounter //Inspire","pos":[330,930],"size":[270,70],"flags":{"pinned":true},"order":5,"mode":4,"inputs":[{"localized_name":"signal","name":"signal","type":"*","link":48},{"localized_name":"base_value","name":"base_value","type":"INT","widget":{"name":"base_value"},"link":null}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","slot_index":0,"links":[37]}],"properties":{"cnr_id":"comfyui-inspire-pack","ver":"1.20.0","Node name for S&R":"ListCounter //Inspire"},"widgets_values":[0]},{"id":27,"type":"SomethingToString","pos":[330,1060],"size":[270,140],"flags":{"pinned":true},"order":8,"mode":4,"inputs":[{"localized_name":"input","name":"input","type":"*","link":37},{"localized_name":"prefix","name":"prefix","shape":7,"type":"STRING","widget":{"name":"prefix"},"link":null},{"localized_name":"suffix","name":"suffix","shape":7,"type":"STRING","widget":{"name":"suffix"},"link":null}],"outputs":[{"localized_name":"STRING","name":"STRING","type":"STRING","slot_index":0,"links":[38,70]}],"properties":{"cnr_id":"comfyui-kjnodes","ver":"1.1.2","Node name for S&R":"SomethingToString"},"widgets_values":["",""]},{"id":42,"type":"MarkdownNote","pos":[330,630],"size":[270,170],"flags":{"pinned":true},"order":4,"mode":0,"inputs":[],"outputs":[],"properties":{},"widgets_values":["### Recommendations\nRemember to add the folder used in the \"Save Text File\" and \"Image Save\" nodes to the \"whitelist-dirs\" located usually in:\n* .\\ComfyUI\\user\\default\\was-node-suite\n\nFlorence2 is recommended for its speed and consistency across the entire dataset, but it is highly recommended to evaluate the prompt created in relation to the image if using for training."],"color":"#432","bgcolor":"#653"}],"links":[[37,4,0,27,0,"*"],[38,27,0,9,2,"STRING"],[48,1,0,4,0,"*"],[56,2,2,32,0,"*"],[57,23,0,33,0,"*"],[58,1,0,33,1,"IMAGE"],[59,33,0,2,0,"IMAGE"],[62,2,2,9,0,"STRING"],[64,3,0,34,0,"*"],[65,34,0,35,0,"*"],[66,35,0,2,1,"FL2MODEL"],[70,27,0,37,0,"*"],[71,37,0,38,0,"*"],[72,38,0,11,2,"STRING"],[74,33,0,40,0,"*"],[75,40,0,41,0,"*"],[76,41,0,11,0,"IMAGE"]],"groups":[{"id":1,"title":"1. Single Image","bounding":[-10,-83.6,320,453.6],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"2. Multiple Images","bounding":[-10,856.4,1420,497.6],"color":"#b06634","font_size":24,"flags":{}}],"config":{},"extra":{"ds":{"scale":0.4702936333699232,"offset":[1290.245951859956,336.5333333333333]},"node_versions":{"comfyui-inspire-pack":"ecf8ab6f588bc8442ff7720b383d085ecabbc407","comfyui-florence2":"90b012e922f8bb0482bcd2ae24cdc191ec12a11f","was-node-suite-comfyui":"3ed45af34a14551dc28cb3127235cc7197d4633f","rgthree-comfy":"5d771b8b56a343c24a26e8cea1f0c87c3d58102f","comfy-core":"0.3.14","comfyui-kjnodes":"2129789f937c53a7b56c56a857157f30662fb667"}},"version":0.4}